(this.webpackJsonptableview=this.webpackJsonptableview||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),r=a(2),i=a.n(r),s=(a(13),a(3)),c=a(4),o=a(5),m=a(7),u=a(6),d=function(e){var t=e.handleFilter;return n.a.createElement("div",{className:"filters"},n.a.createElement("br",null),n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-6"},n.a.createElement("label",null,"Delimeter"),n.a.createElement("input",{type:"text",className:"form-control",id:"delimeter",defaultValue:",",onChange:t})),n.a.createElement("div",{className:"col-md-6"},n.a.createElement("label",null,"Rows"),n.a.createElement("input",{type:"number",className:"form-control",id:"rows",defaultValue:"2",onChange:t}))),n.a.createElement("br",null))},h=function(e){var t=e.data,a=e.handleFilter;return n.a.createElement("div",null,n.a.createElement(d,{handleFilter:a}),t.length<1?n.a.createElement("p",{className:"alert alert-warning"},"No data found try again."):n.a.createElement("table",{className:"table table-striped"},n.a.createElement("thead",{className:"thead-dark"},n.a.createElement("tr",null,n.a.createElement("th",null,"Name"),n.a.createElement("th",null,"Address"),n.a.createElement("th",null,"City"),n.a.createElement("th",null,"Country"),n.a.createElement("th",null,"Zipcode"))),n.a.createElement("tbody",null,t.map((function(e,t){return n.a.createElement("tr",{key:t},n.a.createElement("td",null,e.name),n.a.createElement("td",null,e.address),n.a.createElement("td",null,e.city),n.a.createElement("td",null,e.country),n.a.createElement("td",null,e.zipcode))})))))},f=function(e){var t=e.fileUpload;return n.a.createElement("div",null,n.a.createElement("br",null),n.a.createElement("label",null,"Upload a .txt file to continue."),n.a.createElement("input",{type:"file",className:"form-control",id:"file",onChange:t}))},E=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;Object(c.a)(this,a);for(var l=arguments.length,n=new Array(l),r=0;r<l;r++)n[r]=arguments[r];return(e=t.call.apply(t,[this].concat(n))).state={loading:!1,fileDetails:null,errorMessage:null,delimeter:",",rows:2},e.fileUpload=function(){var t=new FormData,a=document.querySelector('input[type="file"]');t.append("files",a.files[0]),e.setState({loading:!0}),fetch("http://localhost:3000/fileprocessing",{method:"POST",body:t}).then((function(e){return e.json()})).then((function(t){t.length<1?e.setState({loading:!1,errorMessage:"No data in the file uploaded"}):e.setState({fileDetails:t,loading:!1})})).catch((function(t){return e.setState({errorMessage:"There was an issue while processing your request please make sure there is data in the file",loading:!1})}))},e.handleFilter=function(t){var a=t.target.getAttribute("id"),l=t.target.value.replace(/\s/g,"");if(""!==l&&"delimeter"===a){/[$-/:-?{-~!"^_`\[\]]/.test(l)&&e.setState({delimeter:l})}else""!==l&&"rows"===a?e.setState({rows:l}):e.setState(Object(s.a)({},a,l))},e.tableData=function(e,t,a){var l=[];if(""!==t&&Number(a)>0)for(var n=0;n<e.length;n++){var r=e[n].split(t);r.length>1&&l.push({name:r[0],address:r[1],city:r[2],country:r[3],zipcode:r[4]})}return l.filter((function(e,t){return t<a}))},e}return Object(o.a)(a,[{key:"render",value:function(){var e=null!==this.state.fileDetails?this.tableData(this.state.fileDetails,this.state.delimeter,this.state.rows):null;return n.a.createElement("div",{className:"container customSizing"},n.a.createElement("div",{className:"row"},n.a.createElement("div",{className:"col-md-8 offset-md-2"},this.state.loading?n.a.createElement("p",{className:"alert alert-warning"},"Loading please wait..."):null,this.state.errorMessage?n.a.createElement("p",{className:"alert alert-danger"},this.state.errorMessage):null,n.a.createElement("h2",{className:"page-header"},"Contacts list"),n.a.createElement("form",null,n.a.createElement(f,{fileUpload:this.fileUpload})),null!==this.state.fileDetails?n.a.createElement(h,{data:e,handleFilter:this.handleFilter}):null)))}}]),a}(n.a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(n.a.createElement(n.a.StrictMode,null,n.a.createElement(E,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},8:function(e,t,a){e.exports=a(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.5d8b69dc.chunk.js.map